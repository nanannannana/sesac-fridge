<%-include('head.ejs') %>
<link href="/static/css/main/main.css" rel="stylesheet" type="text/css">
<script src="static/script/main/main.js" type="text/javascript"></script>
<%-include('header.ejs') %>
<main>
    <!-- ë¡œê·¸ì¸ì‹œ ì„ë°•ìƒí’ˆ ìˆ˜ ë…¸ì¶œ -->
    <div class="d_none" id="welcome_user">
      <div id="custom-target"></div>
    </div>

    <div class="container-xl mainPage_main" style="text-align:center; background-color: var(--main-yellow);">
        <div class="container-fluid mainPage_box">
            <!-- Row ìºëŸ¬ì…€ -->
            <div class="row first_row_main">
              <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">

                  <div class="carousel-item">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: First slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#777"></rect><text x="50%" y="50%" fill="#555" dy=".3em">First slide</text></svg>
              
                  </div>
                  <div class="carousel-item">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Second slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#666"></rect><text x="50%" y="50%" fill="#444" dy=".3em">Second slide</text></svg>
              
                  </div>
                  <div class="carousel-item active">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Third slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#555"></rect><text x="50%" y="50%" fill="#333" dy=".3em">Third slide</text></svg>
              
                  </div>
                  <div class="carousel-item active">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Fourth slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#555"></rect><text x="50%" y="50%" fill="#333" dy=".3em">Fourth slide</text></svg>
            
                  </div>
                  <div class="carousel-item active">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Fifth slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#555"></rect><text x="50%" y="50%" fill="#333" dy=".3em">Fifth slide</text></svg>
          
                  </div>
                  <div class="carousel-item active">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Sixth slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#555"></rect><text x="50%" y="50%" fill="#333" dy=".3em">Sixth slide</text></svg>
          
                  </div>
                  <div class="carousel-item active">
                    <svg class="bd-placeholder-img bd-placeholder-img-lg d-block w-100" width="800" height="400" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Seventh slide" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#555"></rect><text x="50%" y="50%" fill="#333" dy=".3em">Seventh slide</text></svg>
          
                  </div>
                </div>
                
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
            <!-- ë² ìŠ¤íŠ¸ ë ˆì‹œí”¼ -->
            <div class="row second_row_main">
                <p style="font-size:xx-large">12ì›”ì˜ BEST ë ˆì‹œí”¼</p>
                <div class="row">
                  <% for (var i=0 ; i < recipe.length ; i++) { %>
                    <div class="col-3 card text-bg-dark" style="padding:0; display: inline-block;">
                      <img src="<%=recipe[i].recipe_img%>" class="card-img" alt="..." >
                    </div>
                  <% } %>
                  <% for (var l=0 ; l < recipe.length ; l++) { %>
                    <div class="col-3"><%=recipe[l].recipe_title%></div>
                  <% } %>
                </div>


            </div>
            <!-- ì´ìš©ê°€ì´ë“œ -->
            <div class="row third_row_main" style="margin:100px 0 100px 0">
              <div style="font-size: xx-large; font-weight: bolder;">ëƒ‰ì¥ê³  ì§‘ì‚¬ ì´ìš© ê°€ì´ë“œ</div>
              <img src="/static/img/user_guide.png">
            </div>
        </div>
    </div>

    <script>
      // 1. ì˜¤ëŠ˜ ì²« ë¡œê·¸ì¸ ì‹œ - ì˜¤ëŠ˜ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ í†µê¸°í•œ ì§€ë‚œ ì‹ì¬ë£Œ ì¡´ì¬í•˜ë©´ DBì—ì„œ ì‚­ì œ & ì‚­ì œ ì•Œë¦¼ 
      // 2. ë‹¹ì¼ ì¬ë¡œê·¸ì¸ ì‹œ - ì•Œë¦¼ ì•ˆ ëœ¸ (ìœ í†µê¸°í•œ ì§€ë‚œ ì‹ì¬ë£ŒëŠ” ì²« ë¡œê·¸ì¸ë•Œ ì‚­ì œë˜ì—ˆê¸° ë•Œë¬¸ì— ì‚­ì œí•  í•„ìš”X ì•Œë¦¼ í•„ìš”X)
      // 3. ë‹¤ìŒë‚  ì²« ë¡œê·¸ì¸ ì‹œ - ìœ í†µê¸°í•œ ì§€ë‚œ ì‹ì¬ë£Œ ì¡´ì¬í•˜ë©´ DBì—ì„œ ì‚­ì œ & ì•Œë¦¼ ... 1~2 ë°˜ë³µ
      // 4. ë§Œì•½ ë‹¹ì¼ ì²« ë¡œê·¸ì¸ì¸ë° ìœ í†µê¸°í•œ ì§€ë‚œ ì‹ì¬ë£Œ ì—†ìœ¼ë©´(exp_count<1) DBì—ì„œ ì‚­ì œX ì•Œë¦¼X
      //ë¡œê·¸ì¸ O
      if ( "<%=isLogin%>" == "true" ){ 
        // fridgeList();
        $("#welcome_user").removeClass("d_none"); //user í™˜ì˜ ì¸ì‚¬ë§ display
        // $("#welcome_user div").html("<span>"+`${localStorage.getItem("username")}`+"ë‹˜ğŸŒ±</span><br>ìœ í†µê¸°í•œì´ ì„ë°•í•œ ì‹ì¬ë£Œ <b><%=fresh_count%>ê°œ</b>ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš” !");
        
        console.log("<%=user_name%>","<%=exp_count%>");
        welcomeToast("<%=user_name%>","<%=fresh_count%>");
        if( "<%=exp_count%>" > 0 ){ // ì‚­ì œí•  ì‹ì¬ë£Œ ì¡´ì¬ & ë¡œê·¸ì¸ O
          deleteAlert("<%=user_name%>","<%=exp_count%>"); // ì‹ì¬ë£Œ ì‚­ì œ & ì•Œë¦¼
        }
      //   console.log(`${localStorage.getItem("username")}`,"<%=exp_count%>");
      //   welcomeToast(`${localStorage.getItem("username")}`,"<%=fresh_count%>");
      //   if( "<%=exp_count%>" > 0 ){ // ì‚­ì œí•  ì‹ì¬ë£Œ ì¡´ì¬ & ë¡œê·¸ì¸ O
      //     deleteAlert(`${localStorage.getItem("username")}`,"<%=exp_count%>"); // ì‹ì¬ë£Œ ì‚­ì œ & ì•Œë¦¼
      //   }
      }
 
    </script>


</main>

<%-include('footer.ejs') %>
